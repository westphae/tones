<!doctype html>

<html lang="en">
<head>
	<meta charset="utf-8">

	<title>Constructing Musical Scales</title>
	<meta name="description" content="Construction of the musical scale using overtones and the circle of fifths">
	<meta name="author" content="Eric Westphal">
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
	<h1>Constructing Musical Scales</h1>
    <div id="fourier1"></div>
    <div id="fourier2"></div>
    <div id="fourier3"></div>
    <div id="synth1"></div>
    <div id="synth2"></div>
    <div id="synth3"></div>
    <div id="sample1"></div>
    <div id="sample2"></div>
    <div id="sample3"></div>
	<script src="js/fouriersynth.js"></script>
	<script src="js/synth.js"></script>
	<script src="js/sample.js"></script>
    <script>
            window.AudioContext = window.AudioContext || window.webkitAudioContext;
            let ctx = new AudioContext(),
                SampleBuffer = null;

            SetUpSampleLoop(ctx, "res/slide_whistle.wav").then((s) => {
                SampleBuffer = s;
                new FourierPlayer("fourier1", ctx, 110, new Float32Array([0,0.4,0.4,1,1,1,0.3,0.7,0.6,0.5,0.9,0.8]));
                new FourierPlayer("fourier2", ctx, 110, new Float32Array([0,0.4,0.4,1,1,1,0.3,0.7,0.6,0.5,0.9,0.8]));
                new FourierPlayer("fourier3", ctx, 110, new Float32Array([0,0.4,0.4,1,1,1,0.3,0.7,0.6,0.5,0.9,0.8]));
                new SynthPlayer("synth1", ctx, 110);
                new SynthPlayer("synth2", ctx, 110);
                new SynthPlayer("synth3", ctx, 110);
                new SamplePlayer("sample1", ctx, SampleBuffer, 110);
                new SamplePlayer("sample2", ctx, SampleBuffer, 110);
                new SamplePlayer("sample3", ctx, SampleBuffer, 110);
            });
    </script>

</body>
</html>
